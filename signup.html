<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="./images/logo.png">
    <title>Create A New Account</title>
    <link rel="stylesheet" href="./styles/nav.css">
    <link rel="stylesheet" href="./styles/landing.css">
    <link rel="stylesheet" href="./styles/scrolebar.css">
    <link rel="stylesheet" href="./styles/footer.css">
    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  </head>
  <style>
body {
  background-color: white;
}

#form {
  margin: auto;
  width: 60%;
  padding: 30px;
  background-color: white;
  border: 2px solid black;
  border-radius: 10px;
}
#signupheading{
  margin-top: 100px;
  text-align: center;
}
label {
  font-size: 1.2em;
  color: black;
  margin-bottom: 10px;
  display: block;
}

input[type="text"],
input[type="password"] {
  width: 100%;
  padding: 12px 20px;
  margin: 8px 0;
  box-sizing: border-box;
  border: 2px solid black;
  border-radius: 4px;
  background-color: #f8f8f8;
  color: black;
}

button[type="submit"] {
  width: 100%;
  background-color: black;
  color: white;
  padding: 14px 20px;
  margin: 8px 0;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

button[type="submit"]:hover {
  background-color: white;
  color: black;
}




</style>
  <body>
    <nav>
      <div class="wrapper">

        <div id="navTop">

          <a href="">E-Gift Card</a>
          <a href="">Store Locator</a>
          <a href="">Track Order</a>
          <a href="">My AEO</a>
          <a href="./cart.html">Cart</a>
        </div>
        <div id="onlyfornavstyle">
          <div class="logo">
            <img src="./images/logo.png" onclick="redirecttohomepage()" alt="">
          </div>
          <div id="onlyfornavstyl">
            <ul class="section" id="nav_buttons">
              <li class="sub-menu" id="men"><a href="#">Men</a>
                <ul class="drop-down">

                  <li><a href="/products.html" data-subc="T-Shirt"
                      data-gend="Men">T-Shirt</a></li>
                  <li><a href="" data-subc="Shirts" data-gend="Men">Shirts</a></li>
                  <li><a href="" data-subc="Jackets" data-gend="Men">Jackets</a></li>
                  <li><a href="" data-subc="Hoodies" data-gend="Men">Hoodies</a></li>
                  <li><a href="" data-subc="Jeans" data-gend="Men">Jeans</a></li>
                  <li><a href="" data-subc="Shorts" data-gend="Men">sorts</a></li>
                  <li><a href="" data-subc="Sweaters" data-gend="Men"> Sweaters</a></li>
                </ul>
              </li>
              <li class="sub-menu" id="women"> <a href="">Women</a>
                <ul class="drop-down">

                  <li><a href="" data-subc="T-Shirt" data-gend="Women">T-Shirt</a></li>
                  <li><a href="" data-subc="Jackets" data-gend="Women">Jackets</a></li>
                  <li><a href="" data-subc="Hoodies" data-gend="Women">Hoodies
                    </a></li>
                  <li><a href="" data-subc="Jeans" data-gend="Women">Jeans</a></li>
                  <li><a href="" data-subc="Shorts" data-gend="Women">Shorts</a></li>
                  <li><a href="" data-subc="Sweaters" data-gend="Women">
                      Sweaters</a></li>

                </ul>
              </li>
              <li class="sub-menu"> <a href="">Jeans</a>
                <ul class="drop-down">

                  <li><a href="" data-subc="Jeans" data-gend="">Skinny Jeans
                    </a></li>
                  <li><a href="" data-subc="Jeans" data-gend="">Slim Jeans </a></li>
                  <li><a href="" data-subc="Jeans" data-gend="">Straight Jeans
                    </a></li>
                  <li><a href="" data-subc="Jeans" data-gend="">Airflex Jeans
                    </a></li>
                  <li><a href="" data-subc="Jeans" data-gend="">Bootcat Jeans
                    </a></li>
                  <li><a href="" data-subc="Jeans" data-gend="">Athletic fit
                      Jeans </a></li>
                  <li><a href="" data-subc="Jeans" data-gend="">Ripped Jeans</a></li>
                  <li><a href="" data-subc="Jeans" data-gend="">High rise Jeans
                    </a></li>
                  <li><a href="" data-subc="Jeans" data-gend="">Cropped Jeans
                    </a></li>
                  <li><a href="" data-subc="Jeans" data-gend="">Mom</a></li>
                  <li><a href="" data-subc="Jeans" data-gend="">Ripped Jeans</a></li>
                </ul>
              </li>
              <li class="sub-menu"> <a href="">sale</a>

              </li>
              <li class="sub-menu"><a href="">Winter Wear</a>
                <ul class="drop-down">

                  <li><a href="" data-subc="Hoodies" data-gend="Winterwear">
                      Hoodies </a></li>
                  <li><a href="" data-subc="Jackets" data-gend="Winterwear">Jackets
                    </a></li>
                  <li><a href="" data-subc="Sweaters" data-gend="Winterwear">Sweaters
                    </a></li>

                </ul>
              </li>

            </ul>
            <input id="search" type="text" placeholder="Search Here">
          </div>
        </div>


      </div>
      <a href="#" id="cartlogoidi"><img src="./images/cart img.png"
          id="cartlogoid" alt=""></a>
      <div id="loginidi"><img src="./images/login.jpg" id="loginid" alt=""></div>
    </div>
  </nav>

  <!-- Nav Bar End here -->
  <h1 id="signupheading">Trending Eagle</h1>
  <form id="form">
    <label>Name:</label>
    <input type="text" id="name" required>
    <label>Username:</label>
    <input type="text" id="username" required>
    <br>
    <label>Password:</label>
    <input type="password" id="password" required>
    <br>
    <!-- <label>Email:</label>
        <input type="email" id="email" required>
        <br> -->
    <button type="submit">Sign Up</button>
  </form>
  <footer id="footer">
    <div id="footerone">
      <div>Want 25% off your purchase? <span> Refer A friend!</span></div>
      <div>A gift that always fits. <span> Shop E-Gift Card</span></div>
    </div>
    <div id="footermaindiv">
      <div>
        <div class="footerimg">
          <img src="./images/payment.png" alt="">
          <p>PAYMENT OPTIONS Credit,Debit,Paytm Wallet & more.</p>
        </div>
        <div class="footerimg">
          <img src="./images/location.png" alt="">
          <p>STORE LOCATOR</p>
        </div>
        <div class="footerimg">
          <img src="./images/email.jpg" alt="">
          <p>EMAIL SIGN UP</p>
        </div>
        <div class="footerimg">
          <img src="./images/BLOGS.png" alt="">
          <p>AEO BLOGS</p>
        </div>
      </div>
      <div id="footerseconddiv">
        <div class="footerimg">
          <img src="./images/track.png" alt="">
          <p>TRACK ORDER</p>
        </div>
        <div>ABOUT AEO</div>
        <div>FREQUENTLY ASKED QUESTIONS</div>
        <div>RETURNS POLICY</div>
        <div>CANCELLATION POLICY</div>
        <div>SHIPPING POLICY</div>
        <div>TERMS AND CONDITIONS OF USE</div>
        <div>OFFER T&C</div>
        <div>PRIVACY POLICY</div>
        <div>SITE MAP</div>
      </div>
      <div class="footermain3">
        <div><img src="./images/question.png" alt=""><span> HAVE A QUESTION ?</span></div>
        <div><img src="./images/suport.png" alt=""><span>CUSTOMER SUPPORT</span>
        </div>
        <div><img src="./images/facebook.png" alt=""><span>FOLLOW US</span>
        </div>
      </div>
    </div>

  </body>
  <script src="./scripts/index.js"></script>
  <script
    src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.0/dist/sweetalert2.all.min.js"></script>
  <script>
  // let form = document.getElementById("form");
  let form = document.getElementById("form");
form.addEventListener("submit", (event) => {
  event.preventDefault();
  let name = document.getElementById("name").value;
  let username = document.getElementById("username").value;
  let password = document.getElementById("password").value;

  // request to receive the list of users
  fetch("https://63c69db7dcdc478e15c55914.mockapi.io/UsersAPI")
    .then((res) => res.json())
    .then((data) => {
      let existingUsername = data.find(user => user.username === username);
      let existingname = data.find(user => user.name === name);
      if (existingUsername) {
        // User already exists, do not allow sign up
        // alert("This username is already taken. Please choose another one.");
        Swal.fire({
      title: 'This username is already taken.',
      showClass: {
      popup: 'animate__animated animate__fadeInDown'
      },
      hideClass: {
      popup: 'animate__animated animate__fadeOutUp'
      }
      })
      }
     else if(existingname) {
      // alert("This name is already taken. Please choose another one.");
      Swal.fire({
      title: 'This name is already taken.',
      showClass: {
      popup: 'animate__animated animate__fadeInDown'
      },
      hideClass: {
      popup: 'animate__animated animate__fadeOutUp'
      }
      })
     }
      
      else {
        // User does not exist, allow sign up
        let newUser = {
          name: name,
          username: username,
          password: password
        };
        fetch("https://63c69db7dcdc478e15c55914.mockapi.io/UsersAPI", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(newUser)
        })
          .then((res) => res.json())
          .then((data) => {
            console.log(data);
        Swal.fire({
      title: `Welcome! ${data.name}.You have successfully created an account with "TRENDING EAGLE"`,
      showClass: {
      popup: 'animate__animated animate__fadeInDown'
      },
      hideClass: {
      popup: 'animate__animated animate__fadeOutUp'
      }
      })
      // location.href="./index.html";
      });
      }
    });
});
    
</script>
</html>